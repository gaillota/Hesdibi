{# Button displayed in mobile view #}
<div class="btn-group dropup">
	<button type="button" class="btn btn-primary dropdown-toggle btn-xs" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">+</button>
	<ul class="dropdown-menu">
		<li><a href="#" type="button" data-toggle="modal" data-target="#newFolderModal">{{ fa('folder') }}</a></li>
		<li><a href="#" type="button" data-toggle="modal" data-target="#newFileModal">{{ fa('file-pdf-o') }}</a></li>
	</ul>
</div>
<form action="" method="GET" class="mobile-search visible-xs">
	<div class="input-group">
		<span class="input-group-addon" id="addon2">{{ fa('search') }}</span>
		<input type="text" class="form-control" placeholder="Recherche" name="s" aria-describedby="addon2" autocomplete="off">
	</div>
</form>
{# End button #}

{# Mobile view #}
<div class="row" id="vault-mobile" style="margin-bottom: 70px;">
	<div class="col-xs-12 text-center">
		<h2 style="margin: 0;">
			{% if currentFolder is not null %}
				{{ fa('folder-open') }} {{ currentFolder.name }}
			{% else %}
				{{ fa('lock') }} Mon Vault
			{% endif %}
		</h2>
		<div class="row">
			{% set nbrElements = 0 %}
			{% set noFolder = 0 %}
			{% for folder in listFolders %}
				{% set nbrElements = nbrElements + 1 %}
				<div class="col-xs-6">
					<div class="btn-group dropdown actions{% if nbrElements % 2 == 0 %} inverse-dropdown{% endif %}">
						<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
							<span class="caret"></span>
						</button>
						<ul class="dropdown-menu">
							<li>
								<a href="{{ path('ag_vault_folder_move', { id:folder.id }) }}">
									{{ fa('location-arrow') }} Modifier emplacement
								</a>
							</li>
							<li>
								<a href="#" type="button" data-toggle="modal" data-target="#renameModal" data-id="{{ folder.id }}" data-href="{{ path('ag_vault_folder_rename', { id:folder.id }) }}">
									{{ fa('edit') }} Renommer
								</a>
							</li>
							<li>
								<a href="{{ path('ag_vault_folder_remove', { id:folder.id }) }}">
									{{ fa('remove') }} Supprimer
								</a>
							</li>
						</ul>
					</div>
					<div class="icon">
						{{ fa('folder') }}
					</div>
					<div class="title">
						<a href="{{ path('ag_vault_folder_show', { id:folder.id, slug:folder.slug }) }}">
							{{ folder.name }}
						</a>
						<span class="size">{{ folder.size|size }}</span>
					</div>
				</div>
			{% endfor %}
			{% for file in listFiles %}
				{% set nbrElements = nbrElements + 1 %}
				<div class="col-xs-6">
					<div class="btn-group dropdown actions{% if nbrElements % 2 == 0 %} inverse-dropdown{% endif %}">
						<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
							<span class="caret"></span>
						</button>
						<ul class="dropdown-menu">
							<li>
								<a href="{{ path('ag_vault_file_download', { id:file.id }) }}">
									{{ fa('download') }} Télécharger
								</a>
							</li>
							<li>
								<a href="{{ path('ag_vault_file_send', { id:file.id }) }}">
									{{ fa('envelope') }} Envoyer par e-mail
								</a>
							</li>
							<li>
								<a href="#" data-toggle="modal" data-target="#fileDetailsModal" data-details="{{ path('ag_vault_file_details', {id:file.id}) }}">
									{{ fa('bar-chart') }} Voir détails
								</a>
							</li>
							<li class="divider"></li>
							<li>
								<a href="{{ path('ag_vault_file_move', {id:file.id}) }}">
									{{ fa('location-arrow') }} Modifier emplacement
								</a>
							</li>
							<li>
								<a href="#" type="button" data-toggle="modal" data-target="#renameModal" data-id="{{ file.id }}" data-href="{{ path('ag_vault_file_rename', { id:file.id }) }}">
									{{ fa('edit') }} Renommer
								</a>
							</li>
							<li>
								<a href="{{ path('ag_vault_file_remove', { id:file.id }) }}">
									{{ fa('trash') }} Supprimer
								</a>
							</li>
						</ul>
					</div>
					<div class="icon">
						{{ fa('file-pdf-o') }}
					</div>
					<div class="title">
						<a href="{{ path('ag_vault_file_preview', { id:file.id }) }}">
							{{ file.name }}
						</a>
						<span class="size">{{ file.size|size }}</span>
					</div>
				</div>
			{% else %}
				{% if search is defined and search is not null %}
					<div class="col-xs-12 text-center">
						<h5 style="margin-top: 20px;">
							Aucun résultat pour la recherche <em>{{ search }}</em>.
						</h5>
					</div>
				{% else %}
					{% if listFolder is empty %}
						<div class="col-xs-12 text-center">
							<h5 style="margin-top: 20px;">
								Aucun contenu dans {% if currentFolder is not null %}ce dossier.{% else %}votre Vault.{% endif %}
							</h5>
						</div>
					{% endif %}
				{% endif %}
			{% endfor %}
		</div>
	</div>
</div>